<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Forever Begins ‚ù§Ô∏è</title>

<style>
body{
margin:0;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
font-family:Arial;
background:#000;
}

/* Start Screen */
#startScreen{
position:absolute;
width:100%;
height:100%;
background:linear-gradient(#ff4d88,#ff99cc);
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:20;
color:white;
}

#game{
position:relative;
width:900px;
height:500px;
border-radius:15px;
overflow:hidden;
display:none;
}

/* Romantic Sky */
#sky{
position:absolute;
width:100%;
height:100%;
background:linear-gradient(270deg,#ff4d88,#ff99cc,#ff4d88);
background-size:400% 400%;
animation:skyMove 18s ease infinite;
}
@keyframes skyMove{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

/* Sparkles */
.sparkle{
position:absolute;
width:5px;
height:5px;
background:white;
border-radius:50%;
opacity:0.8;
animation:twinkle 2s infinite alternate;
}
@keyframes twinkle{
0%{opacity:0.3;}
100%{opacity:1;}
}

/* Ground */
#ground{
position:absolute;
bottom:0;
width:100%;
height:80px;
background:#b30059;
}

.character{
position:absolute;
width:90px;
height:90px;
transition:transform 0.3s;
}
#me{bottom:80px;left:650px;}
#gf{bottom:80px;left:100px;}

#loveBox{
position:absolute;
bottom:100px;
left:50%;
transform:translateX(-50%);
width:300px;
height:16px;
background:white;
border-radius:10px;
}
#love{
height:100%;
width:0%;
background:red;
border-radius:10px;
}

#message{
position:absolute;
top:40%;
width:100%;
text-align:center;
font-size:30px;
color:white;
display:none;
text-shadow:2px 2px black;
z-index:10;
}

#proposalArea{
position:absolute;
top:60%;
width:100%;
text-align:center;
display:none;
z-index:10;
}

.btn{
padding:12px 30px;
margin:10px;
font-size:20px;
border:none;
border-radius:30px;
cursor:pointer;
}

/* Heart Rain */
@keyframes heartFall{
0%{transform:translateY(0) scale(1);}
100%{transform:translateY(520px) scale(1.5);}
}

.controls{
position:absolute;
bottom:10px;
width:100%;
display:flex;
justify-content:center;
gap:15px;
}

.ctrl{
width:60px;
height:60px;
border-radius:50%;
border:none;
font-size:22px;
background:white;
}
</style>
</head>

<body>

<div id="startScreen">
<h1>Our Love Story ‚ù§Ô∏è</h1>
<button onclick="startGame()" style="padding:15px 30px;font-size:20px;">Begin ‚ú®</button>
</div>

<div id="game">
<div id="sky"></div>
<div id="ground"></div>

<img src="gf.png" id="gf" class="character">
<img src="me.png" id="me" class="character">

<div id="loveBox"><div id="love"></div></div>

<div id="message"></div>

<div id="proposalArea">
<button class="btn" style="background:green;color:white;" onclick="yesAnswer()">YES ‚ù§Ô∏è</button>
<button class="btn" style="background:red;color:white;" onclick="noAnswer()">NO üòú</button>
</div>

<div class="controls">
<button class="ctrl" onclick="move(-1)">‚¨Ö</button>
<button class="ctrl" onclick="move(1)">‚û°</button>
<button class="ctrl" onclick="jump()">‚¨Ü</button>
</div>

</div>

<audio id="bgm" src="bgmusic.mp3" loop></audio>
<audio id="kiss" src="kiss.mp3"></audio>
<audio id="hit" src="hit.mp3"></audio>

<script>
const me=document.getElementById("me");
const gf=document.getElementById("gf");
const msg=document.getElementById("message");
const loveBar=document.getElementById("love");
const proposalArea=document.getElementById("proposalArea");
const bgm=document.getElementById("bgm");
const kiss=document.getElementById("kiss");
const hit=document.getElementById("hit");

let playerX=650;
let playerY=0;
let velocityY=0;
const gravity=0.8;
let isJumping=false;
let gfX=100;
let love=0;
let collisionLock=false;
let kissTurn=true;
let proposalShown=false;

/* Sparkles */
for(let i=0;i<40;i++){
let s=document.createElement("div");
s.className="sparkle";
s.style.left=Math.random()*900+"px";
s.style.top=Math.random()*400+"px";
s.style.animationDelay=Math.random()*2+"s";
document.getElementById("game").appendChild(s);
}

/* Start */
function startGame(){
document.getElementById("startScreen").style.display="none";
document.getElementById("game").style.display="block";
bgm.volume=0.6;
bgm.play().catch(()=>{});
}

function move(d){
playerX+=d*25;
if(playerX<0)playerX=0;
if(playerX>810)playerX=810;
me.style.left=playerX+"px";
}
function jump(){
if(!isJumping){velocityY=15;isJumping=true;}
}
document.addEventListener("keydown",e=>{
if(e.key==="ArrowLeft")move(-1);
if(e.key==="ArrowRight")move(1);
if(e.key==="ArrowUp")jump();
});

/* Game Loop */
function update(){
if(isJumping){
playerY+=velocityY;
velocityY-=gravity;
if(playerY<=0){playerY=0;isJumping=false;}
}
me.style.bottom=(80+playerY)+"px";

if(gfX<playerX-5)gfX+=2;
if(gfX>playerX+5)gfX-=2;
gf.style.left=gfX+"px";

if(Math.abs(playerX-gfX)<50 && playerY<20 && !collisionLock){
collisionLock=true;
msg.style.display="block";
if(kissTurn){kiss.play();msg.innerHTML="Kiss üòò";}
else{hit.play();msg.innerHTML="Ouch üòú";}
kissTurn=!kissTurn;
love+=10;if(love>100)love=100;
loveBar.style.width=love+"%";

if(love>=100 && !proposalShown){
proposalShown=true;
setTimeout(triggerProposal,1000);
}

setTimeout(()=>{msg.style.display="none";collisionLock=false;},800);
}

requestAnimationFrame(update);
}

function triggerProposal(){
bgm.volume=0.2;
msg.style.display="block";
msg.innerHTML="Will You Marry Me? ‚ù§Ô∏èüíç";
proposalArea.style.display="block";
}

function yesAnswer(){
proposalArea.style.display="none";
msg.style.display="none";
bgm.volume=0.8;

/* Massive Heart Rain */
for(let i=0;i<200;i++){
let heart=document.createElement("div");
heart.innerHTML="üíñ";
heart.style.position="absolute";
heart.style.left=Math.random()*900+"px";
heart.style.top="-30px";
heart.style.fontSize=(20+Math.random()*30)+"px";
heart.style.animation="heartFall 4s linear forwards";
document.getElementById("game").appendChild(heart);
setTimeout(()=>heart.remove(),4000);
}

/* Final Text */
setTimeout(()=>{
msg.style.display="block";
msg.innerHTML="Forever Begins Now ‚ù§Ô∏è";
},2000);
}

function noAnswer(){
msg.innerHTML="Nice Try üòè";
proposalArea.style.display="none";
}

update();
</script>

</body>
</html>
